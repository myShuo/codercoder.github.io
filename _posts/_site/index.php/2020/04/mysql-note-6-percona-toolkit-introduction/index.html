<h1 id="一percona-toolkit工具包介绍">一、percona-toolkit工具包介绍</h1>

<p><strong>percona-toolkit（下称：pt工具）</strong>，是Percona公司开发的用于数据库的工具包，品类很多，再次就不多做介绍，灵活的使用pt工具，可以极大的简化DBA日常的运维工作，提高工作效率。<br />
 <em>（在日常工作中，其实常常用到pt的工具，公司对工具进行了封装，做成为直观的工具）</em><br />
 可在其网站上进行查看：https://www.percona.com/downloads/percona-toolkit/LATEST/<br />
<img src="http://codercoder.cn/wp-content/uploads/2020/04/2020-04-1234.png" alt="" /><br />
<strong>pt工具包可大致分为以下几类：</strong><br />
<strong>（1）开发类工具：</strong><br />
 pt-duplicate-key-checker<br />
 pt-online-schema-change<br />
 pt-query-advisor<br />
 pt-show-grants<br />
 pt-upgrade<br />
<strong>（2）性能类工具：</strong><br />
 pt-index-usage<br />
 pt-pmp<br />
 pt-visual-explain<br />
（3）配置类工具：<br />
 pt-config-diff<br />
 pt-mysql-summary<br />
 pt-variable-advisor<br />
<strong>（4）监控类工具：</strong><br />
 pt-deadlock-logger<br />
 pt-fk-error-logger<br />
 pt-mext<br />
 pt-query-digest<br />
 pt-trend<br />
<strong>（5）复制类工具：</strong><br />
 pt-heartbeat<br />
 pt-slave-delay<br />
 pt-slave-find<br />
 pt-slave-restart<br />
 pt-table-checksum<br />
 pt-table-sync<br />
<strong>（6）系统类工具：</strong><br />
 pt-diskstats<br />
 pt-fifo-split<br />
 pt-summary<br />
 pt-stalk<br />
<strong>（7）实用类工具：</strong><br />
 pt-archiver<br />
 pt-find<br />
 pt-kill</p>

<h1 id="二安装">二、安装</h1>

<p>在官网下载安装包后，解压，得到如下目录及文件：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bin        
CONTRIBUTE.md    
COPYING             
docs        
Gopkg.toml  
lib          
MANIFEST
Changelog  
CONTRIBUTING.md  
docker-compose.yml  
Gopkg.lock  
INSTALL     
Makefile.PL  
README.md

</code></pre></div></div>

<p>其中bin目录下，即为我们所需要的可执行文件：</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"> </th>
      <th style="text-align: left"> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">pt-align</td>
      <td style="text-align: left">pt-fk-error-logger</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-online-schema-change</td>
      <td style="text-align: left">pt-slave-restart</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-archiver</td>
      <td style="text-align: left">pt-heartbeat</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-pg-summary</td>
      <td style="text-align: left">pt-stalk</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-config-diff</td>
      <td style="text-align: left">pt-index-usage</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-pmp</td>
      <td style="text-align: left">pt-summary</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-deadlock-logger</td>
      <td style="text-align: left">pt-ioprofile</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-query-digest</td>
      <td style="text-align: left">pt-table-checksum</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-diskstats</td>
      <td style="text-align: left">pt-kill</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-secure-collect</td>
      <td style="text-align: left">pt-table-sync</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-duplicate-key-checker</td>
      <td style="text-align: left">pt-mext</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-show-grants</td>
      <td style="text-align: left">pt-table-usage</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-fifo-split</td>
      <td style="text-align: left">pt-mongodb-query-digest</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-sift</td>
      <td style="text-align: left">pt-upgrade</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-find</td>
      <td style="text-align: left">pt-mongodb-summary</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-slave-delay</td>
      <td style="text-align: left">pt-variable-advisor</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-fingerprint</td>
      <td style="text-align: left">pt-mysql-summary</td>
    </tr>
    <tr>
      <td style="text-align: left">pt-slave-find</td>
      <td style="text-align: left">pt-visual-explain</td>
    </tr>
  </tbody>
</table>

<p>对于经常用到的工具，例如使用pt-archiver进行数据的归档、使用pt-online-schema-change进行表结构的变更、使用pt-table-checksum对比两个表的checksum是否一致等等，都能灵活的进行，并且符合运维的思维，添加了很多选项，让我们能够精准的控制整个维护的过程。（后续将介绍常用的几种工具的使用场景）​<br />
欢迎关注公众号：<strong>朔的话</strong>：<br />
<img src="http://codercoder.cn/wp-content/uploads/2020/04/2020-04-2693.jpg" alt="" /></p>
